<md-content>
  <section>
    <md-subheader class="md-primary">Items</md-subheader>
    <md-list layout="column">
      <md-item>
        <md-item-content>
          <div class="md-tile-left">I</div>
          <div class="md-tile-content" layout="row">
            <p flex>Item</p>
            <p flex>Description</p>
            <p flex="10">Price</p>
            <p flex="10">Active</p>
            <p flex="5">Edit</p>
          </div>
        </md-item-content>
        <md-divider></md-divider>
      </md-item>
      <md-item ng-repeat="item in items">
        <md-item-content>
          <div class="md-tile-left">a</div>
          <div class="md-tile-content" layout="row">
            <p flex>{{item.title}}</p>
            <p flex>{{item.description}}</p>
            <p flex="10">{{item.price | currency}}</p>
            <p flex="10"><md-checkbox ng-model="item.active" ng-change="toggleActivity(item)" aria-label="Item status"></md-checkbox></p>
            <md-button class="md-raised icon-pencil" flex="5" ng-click="editItem(item, $index, $event)" aria-label="Edit item"></md-button>
          </div>
        </md-item-content>
        <md-divider ng-if="!$last"></md-divider>
      </md-item>
    </md-list>
  </section>

<h2>Items</h2>
<table rules="none"><!-- get rid of border between cells -->
  <thead>
    <tr>
      <th>Item</th>
      <th>Description</th>
      <th>Price</th>
      <th>Active</th>
      <th>Edit</th>
    </tr>
  </thead>
  <tbody>
    <tr class="item" ng-repeat="item in items">
      <td>{{item.title}}</td>
      <td>{{item.description}}</td>
      <td>{{item.price | currency}}</td>
      <td ng-class="{
        active: item.active,
        inactive: !item.active
      }" ng-click="toggleActivity(item, $index)">{{ item.active ? 'Yes' : 'No' }}</td>
      <td data-reveal-id="editItemModal" ng-click="editItem(item)"><span class="icon-pencil"></span></td>
    </tr>
  </tbody>
</table>

<form>
  <div class="row">
    <div class="small-8">
      <div class="row">
        <div class="small-3 columns">
          <label for="item-title" class="right inline">Title</label>
        </div>
        <div class="small-9 columns">
          <input type="text" id="item-title" placeholder="Pizza" required tabindex="1" ng-model="newItem.title">
        </div>
      </div>
      <div class="row">
        <div class="small-3 columns">
          <label for="item-description" class="right inline">Description</label>
        </div>
        <div class="small-9 columns">
          <input type="text" id="item-description" placeholder="2 hot slices" required tabindex="2" ng-model="newItem.description">
        </div>
      </div>
      <div class="row">
        <div class="small-3 columns">
          <label for="item-price" class="right inline">Price</label>
        </div>
        <div class="small-9 columns">
          <input type="number" id="item-price" placeholder="4.00" required tabindex="3" ng-model="newItem.price">
        </div>
      </div>
      <div class="row">
        <div class="small-9 small-offset-3 columns">
          <a class="button" tabindex="4" ng-click="createItem()">Create Item!</a>
        </div>
      </div>
    </div>
  </div>
</form>

<div id="editItemModal" class="reveal-modal" data-reveal>
  <h2>Edit an item</h2>
  <form>
    <div class="row">
      <div class="small-12">
        <div class="row">
          <div class="small-3 columns">
            <label for="item-title" class="right inline">Title</label>
          </div>
          <div class="small-9 columns">
            <input type="text" id="item-title" placeholder="Pizza" required ng-model="itemToUpdate.title">
          </div>
        </div>
        <div class="row">
          <div class="small-3 columns">
            <label for="item-description" class="right inline">Description</label>
          </div>
          <div class="small-9 columns">
            <input type="text" id="item-description" placeholder="2 hot slices" required ng-model="itemToUpdate.description">
          </div>
        </div>
        <div class="row">
          <div class="small-3 columns">
            <label for="item-price" class="right inline">Price</label>
          </div>
          <div class="small-9 columns">
            <input type="number" id="item-price" placeholder="4.00" required ng-model="itemToUpdate.price">
          </div>
        </div>
        <div class="row">
          <div class="small-3 columns">
            <label for="item-status" class="right inline">Active</label>
          </div>
          <div class="small-9 columns">
            <input type="checkbox" id="item-status" ng-model="itemToUpdate.active">
          </div>
        </div>
        <div class="row">
          <div class="small-3 small-offset-6 columns">
            <a class="button success" ng-click="updateItem()">Update Item!</a>
          </div>
          <div class="small-3 columns">
            <a class="button alert close-reveal-modal" ng-click="cancelUpdateItem()">Cancel</a>
          </div>
        </div>
        <div class="row" ng-show="updateStatus">
          <div class="small-3 small-offset-3 columns">
            {{updateStatus}}
          </div>
        </div>
      </div>
    </div>
  </form>
  <a class="close-reveal-modal">&#215;</a>
</div>

<script>
  $(document).foundation();
</script>
