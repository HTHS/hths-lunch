<link rel="stylesheet" href="/modules/order/styles/order.css">

<nav class="top-bar" data-topbar role="navigation">
  <ul class="title-area">
    <!-- <li class="name">
      <h1><a href="#">My Site</a></h1>
    </li> -->
     <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
  </ul>

  <section class="top-bar-section">
    <!-- Left Nav Section -->
    <ul class="left"></ul>

    <!-- Right Nav Section -->
    <ul class="right">
      <li class="has-dropdown">
        <a><span class="user-display-name">{{user.displayName}}</span><img class="user-profile-picture" ng-src="{{user.providerData.picture}}"></a>
        <ul class="dropdown">
          <li><a ui-sref="profile">Profile</a></li>
          <li><a ng-click="signout()">Sign out</a></li>
        </ul>
      </li>
    </ul>
  </section>
</nav>

<br>
<form>
  <div class="row">
    <div class="small-8">
      <div class="row">
        <div class="small-3 columns">
          <label for="order-customer" class="right inline">Name</label>
        </div>
        <div class="small-9 columns">
          <input type="text" id="order-customer" placeholder="Johnny Appleseed" required ng-model="newOrder.customer">
        </div>
      </div>
      <div class="row">
        <div class="small-3 columns">
          <label for="order-items" class="right inline">Description</label>
        </div>
        <div class="small-9 columns">
          <table rules="none"><!-- get rid of border between cells -->
            <thead>
              <tr>
                <th></th>
                <th>Item</th>
                <th>Description</th>
                <th>Price</th>
                <th>Quantity</th>
              </tr>
            </thead>
            <tbody>
              <tr class="item" ng-repeat="item in menu" ng-show="item.active">
                <td><input type="checkbox" ng-click="toggleItemInOrder($index)"></td>
                <td>{{item.title}}</td>
                <td>{{item.description}}</td>
                <td>{{item.price | currency}}</td>
                <td><input type="number" required ng-disabled="newOrder.items[$index].toString() !== '[object Object]'" ng-model="item.quantity" ng-blur="recalculateTotal()"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="row">
        <div class="small-3 columns">
          <label class="right inline">Total</label>
        </div>
        <div class="small-9 columns">
          <span>{{newOrder.total | currency}}</span>
        </div>
      </div>
      <div class="row">
        <div class="small-9 small-offset-3 columns">
          <button class="button" type="submit" ng-click="submitOrder()">Submit Order!</button>
        </div>
      </div>
      <div class="row" ng-show="orderProcessed">
        <div class="small-9 small-offset-3 columns">
          <div data-alert class="alert-box">
            <p>Your order has been processed!</p>
            <a href="#" class="close">&times;</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

<script>
  $(document).foundation();
</script>
